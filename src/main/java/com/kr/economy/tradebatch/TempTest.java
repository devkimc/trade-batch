package com.kr.economy.tradebatch;

import com.kr.economy.tradebatch.trade.application.commandservices.BidAskBalanceCommandService;
import com.kr.economy.tradebatch.trade.application.queryservices.BidAskBalanceQueryService;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;

@Slf4j
//@RequiredArgsConstructor
public class TempTest {


//    private final BidAskBalanceQueryService bidAskBalanceQueryService;

    @Autowired
    private BidAskBalanceCommandService bidAskBalanceCommandService;

    public static void main(String[] args) {

        String allData = "response = 0|H0STASP0|001|005930^091008^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^851438^307124^179920^219452^200376^594080^87214^117326^121716^213156^143712^130531^95477^77166^102449^88255^73557^107790^141627^118221^2891802^1078785^0^0^0^0^1522419^-84600^5^-100.00^6345368^-3358^-2492^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091008^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^851420^307176^179920^219452^200376^593924^87214^117326^121716^213182^143743^130531^95477^77165^102449^88245^73557^107790^141627^118221^2891706^1078805^0^0^0^0^1522419^-84600^5^-100.00^6345487^-96^20^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091009^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^852748^307175^179980^219828^200377^593919^87214^117326^121736^213182^143114^130531^95440^77165^102449^88245^73557^107790^141627^118223^2893485^1078141^0^0^0^0^1522419^-84600^5^-100.00^6346238^1779^-664^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091009^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^853957^309067^179964^218868^200379^595115^87215^117426^121636^213222^143103^130431^95432^77165^102444^88245^73557^107736^141627^118223^2896849^1077963^0^0^0^0^1522419^-84600^5^-100.00^6346541^980^-257^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091009^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^853892^309068^180175^218628^200379^595180^87215^117426^121636^213475^143090^130331^95432^77170^102459^88546^73557^107736^141627^118223^2897074^1078171^0^0^0^0^1522419^-84600^5^-100.00^6346606^225^208^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091009^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^853284^309008^180212^218629^200419^595203^87215^117426^121332^213475^144374^130352^95431^77180^102459^88556^73557^107736^141629^118514^2896203^1079788^0^0^0^0^1522419^-84600^5^-100.00^6346736^-598^83^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091010^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^853881^308858^180159^218889^200949^595195^87197^117421^121332^213516^144474^130375^95131^76312^102459^88556^73557^107736^141629^118464^2897397^1078693^0^0^0^0^1522419^-84600^5^-100.00^6346907^848^-162^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091010^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^853696^308868^180235^219239^200979^595224^87202^117421^121332^213517^143461^130425^95141^76362^102459^88556^73557^107736^141629^118484^2897713^1077810^0^0^0^0^1522419^-84600^5^-100.00^6348023^316^-883^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091010^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^852935^308934^179949^219232^201000^595297^87250^117421^121332^213537^143644^130425^95141^76244^102459^88556^73557^107736^141629^118485^2896887^1077876^0^0^0^0^1522419^-84600^5^-100.00^6348855^-1148^-31^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091010^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^853174^308947^179939^219233^201035^595312^86995^117327^121336^213947^143715^170450^95146^76244^102479^88556^73557^107735^141629^118485^2897245^1117996^0^0^0^0^1522419^-84600^5^-100.00^6349086^331^17^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091010^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^853519^308964^181459^219290^201087^595457^87002^117527^121346^213957^143739^170450^95146^76244^102479^88556^73679^107735^141629^118485^2899608^1118142^0^0^0^0^1522419^-84600^5^-100.00^6349476^2363^146^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091011^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^852621^308971^181147^219388^201111^598517^87312^117617^121346^213961^142023^170473^95146^76246^102479^88556^73678^107735^141629^118496^2901991^1116461^0^0^0^0^1522419^-84600^5^-100.00^6351249^-1049^-1524^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091011^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^851964^309104^181138^219678^201385^598532^87363^117995^121348^213961^142044^170473^95149^76246^102479^88556^73668^107773^141629^118496^2902468^1116513^0^0^0^0^1522419^-84600^5^-100.00^6351493^486^11^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091011^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^851979^309118^181190^219728^201886^599084^87363^117996^121348^213971^142046^170616^95149^76246^102479^88566^73678^108517^141629^118496^2903663^1117422^0^0^0^0^1522419^-84600^5^-100.00^6351498^1195^909^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091011^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^854099^309308^181198^220651^201886^599205^87364^118026^121369^213952^142152^170622^95149^76246^102479^88566^73678^108517^141629^118596^2907058^1117634^0^0^0^0^1522419^-84600^5^-100.00^6351785^1075^17^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091011^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^854362^309323^181201^220754^201873^599301^87364^118026^121379^214070^141965^170625^95148^76236^102479^88566^73678^108517^141629^118596^2907653^1117439^0^0^0^0^1522419^-84600^5^-100.00^6351802^279^-8^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091012^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^854273^309388^181202^220759^201873^599308^87364^118026^121379^214070^142022^170625^95148^76236^102612^88566^73681^108517^141629^118596^2907642^1117632^0^0^0^0^1522419^-84600^5^-100.00^6351917^-11^193^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091012^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^854603^309397^181230^220969^201877^599323^87366^118034^121381^214158^141952^170640^95188^76236^102612^88566^73681^108527^141630^118611^2908338^1117643^0^0^0^0^1522419^-84600^5^-100.00^6352440^674^193^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091012^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^854807^309422^181330^220969^201898^599534^87366^118034^121381^214158^141937^170641^95188^76236^102612^87986^73681^108527^141630^118111^2908899^1116549^0^0^0^0^1522419^-84600^5^-100.00^6352629^561^-1094^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091012^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^854939^309423^181330^220977^201893^599827^87367^117644^121481^214683^141926^170642^95211^76386^102612^87963^73681^108527^141630^118109^2909564^1116687^0^0^0^0^1522419^-84600^5^-100.00^6352731^499^150^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091012^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^854948^309319^181331^220988^201893^599969^87367^117644^121510^214848^142426^170643^95211^76386^102612^87963^73681^108537^141630^118109^2909817^1117198^0^0^0^0^1522419^-84600^5^-100.00^6352871^253^511^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091013^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^855945^309335^181358^221005^201839^600265^87377^117650^121510^214849^142493^170646^95211^76380^102592^87973^73691^108527^141630^118111^2911133^1117254^0^0^0^0^1522419^-84600^5^-100.00^6353187^266^-66^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091013^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^855693^309351^181422^221009^202039^600821^87377^117649^121510^214853^142923^170646^95222^76380^102592^88073^73692^108595^141630^118111^2911724^1117864^0^0^0^0^1522419^-84600^5^-100.00^6353344^492^434^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091013^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^855930^309356^181434^221010^202039^600866^87377^117649^121510^214888^144921^170646^95222^76380^102592^88073^73692^108596^141630^118111^2912059^1119863^0^0^0^0^1522419^-84600^5^-100.00^6353385^335^1999^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091013^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^820313^309360^181440^221046^202065^600946^87377^117650^121510^214906^144813^170646^95222^76280^102593^88073^73692^108596^141630^118081^2876613^1119626^0^0^0^0^1522419^-84600^5^-100.00^6389108^-5379^-219^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091014^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^820400^309451^181503^220763^202075^600966^87427^117690^121565^214916^145014^170646^95222^76281^102595^88073^73692^108895^141630^118091^2876756^1120139^0^0^0^0^1522419^-84600^5^-100.00^6389269^-29^332^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091014^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^816710^309491^181508^220963^202230^600975^87427^117690^121561^214916^144908^170587^95224^76391^102594^88076^73792^108895^141630^118093^2873471^1120190^0^0^0^0^1522419^-84600^5^-100.00^6393210^185^152^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091014^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^816102^309305^181907^221031^202341^600978^87438^117741^121539^215416^145063^170582^95233^76391^102594^88076^73793^108835^141630^118093^2873798^1120290^0^0^0^0^1522419^-84600^5^-100.00^6393606^735^-191^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091014^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^816209^309315^181907^220981^202382^601061^87438^117726^121539^215431^145059^170582^95233^76401^102589^88076^73793^108835^141660^118093^2873989^1120321^0^0^0^0^1522419^-84600^5^-100.00^6393671^191^31^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091014^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^816416^309353^181908^221161^202400^601076^87469^117726^121539^215436^145294^170582^95233^76411^102589^88076^73793^108935^141660^118093^2874484^1120666^0^0^0^0^1522419^-84600^5^-100.00^6394183^-192^355^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091015^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^818308^305717^178191^217544^198902^601668^87470^117798^121544^215437^145102^170582^95233^76411^102589^88076^73793^108935^141660^118093^2862579^1120474^0^0^0^0^1522419^-84600^5^-100.00^6394743^-11905^-192^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091015^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^818578^305762^178191^217541^198907^601777^87469^117808^121545^215568^145037^170544^95734^76361^102589^88075^73793^108935^141660^118093^2863146^1120821^0^0^0^0^1522419^-84600^5^-100.00^6394836^567^347^0^0^0\n" +
                "response = 0|H0STASP0|001|005930^091015^0^86000^86100^86200^86300^86400^86500^86600^86700^86800^86900^85900^85800^85700^85600^85500^85400^85300^85200^85100^85000^818582^305804^178176^217565^198902^601740^87468^117809^121545^215568^145001^170554^95734^76361^102578^88135^73793^108935^141660^118093^2863159^1120844^0^0^0^0^1522419^-84600^5^-100.00^6394966^13^23^0^0^0";

        String[] responseList = allData.split("response = ");

        for (int i = 0; i < responseList.length; i++) {
            if (responseList[i].length() < 30) {
                continue;
            }

            String[] resultList = responseList[i].split("\\|");
            String[] quoteDataList = resultList[3].split("\\^");

            String currentPrice = quoteDataList[13];
            String totalAskAmount = quoteDataList[43];
            String totalBidAmount = quoteDataList[44];

            log.info("현재가: {}", currentPrice);

            float bidAskBalanceRatio = Float.parseFloat(totalBidAmount) / Float.parseFloat(totalAskAmount);
            log.info("매수매도잔량비: {}", bidAskBalanceRatio);

//            bidAskBalanceCommandService.createBidAskBalanceRatioHistory(bidAskBalanceRatio);


        }

        // 1. 조회 리스트 데이터 파싱
        // 2. for
            // 2.1 호가 데이터 등록
            // 2.2 매수 신호 조회

    }
}
